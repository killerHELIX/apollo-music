{% extends "layout.html" %} {% block content %}

    <!-- Header -->
    <header id="top" class="header">
        <div class="text-vertical-center">
            <h1>Make the world a better place.</h1>
            <h3><a href="" data-toggle="modal" data-target="#loginModal">Login or create an account to make a room!</a></h3>
            <br>
            
        </div>
    </header>

    <!-- About -->
    <section id="about" class="about">
        <div class="container">
            <div class="row text-center">
                <h2>Current Playlist</h2>
            <p class="lead">Playback here is synchronized across all listeners.</p>
            
                <!-- Now Playing -->
                <div class="col-md-3">
                    <h4>Now Playing</h4>
                    <hr class="large"/>
                    <table class="table text-left" ng-show="nowPlaying.title != 'None'">
                        <audio id="nowPlaying" ng-src="{{ '{{trustedUrl(nowPlayingSrc)'}} }}"></audio>
                            <tr>
                                <td>
                                    <a id="nowPlayingSelector" class="btn btn-default btn-lg fa fa-pause" onclick="playPause()"></a>
                                </td>
                                <td>
                                </td>
                                <td>
                                    <input id="volume" onchange="changeVolume()" type="range" min="0" max="1" step="0.02" value="1" ng-model="volume">
                                </td>
                            </tr>
                            <tr>
                                <td ng-bind="nowPlaying.title"></td>
                                <td ng-bind="nowPlaying.genre"></td>
                            </tr>
                    </table>
                </div>
                
                <!-- Queue -->
                <div class="col-md-3">
                    <h4>Queue</h4>
                    <hr class="large"/>
                    <table class="table text-left">
                            <tr ng-repeat="entry in queue.slice().reverse() track by $index">
                                <td><strong>{{ '{{ entry.title }}' }}</strong></td>
                                <td>{{ '{{ entry.genre }}' }}</td>
                                <td>
                                    <i class="btn-queue btn-default btn-xs fa fa-play" ng-click="play(entry)"/>
                                </td>
                                <td>
                                    <i class="btn-queue btn-default btn-xs fa fa-remove" ng-click="remove(entry)"/>
                                </td>
                            </tr>
                    </table>
                </div>
                
                <!-- Select Track -->
                <div class="col-md-3">
                    <h4>Select</h4>
                    <hr class="large"/>
                    <div class="row text-center">
                        <div class="col-2 btn-group">
                            <button id="A3" type="button" class="btn btn-default btn-lg" ng-click="selectTrack(this.id)">A3</button>
                            <button id="B3" type="button" class="btn btn-default btn-lg" ng-click="selectTrack(this.id)">B3</button>
                            <button id="C3" type="button" class="btn btn-default btn-lg" ng-click="selectTrack(this.id)">C3</button>
                        </div></br>
                        <div class="col-2 btn-group">
                            <button id="A2" type="button" class="btn btn-default btn-lg" ng-click="selectTrack(this.id)">A2</button>
                            <button id="B2" type="button" class="btn btn-default btn-lg" ng-click="selectTrack(this.id)">B2</button>
                            <button id="C2" type="button" class="btn btn-default btn-lg" ng-click="selectTrack(this.id)">C2</button>
                        </div></br>
                        <div class="col-2 btn-group">
                            <button id="A1" type="button" class="btn btn-default btn-lg" ng-click="selectTrack(this.id)">A1</button>
                            <button id="B1" type="button" class="btn btn-default btn-lg" ng-click="selectTrack(this.id)">B1</button>
                            <button id="C1" type="button" class="btn btn-default btn-lg" ng-click="selectTrack(this.id)">C1</button>
                        </div></br>
                    </div>
                </div>
                
                <!-- Track Information -->
                <div class="col-md-3">
                    <h4>Info</h4>
                    <hr class="large"/>
                    <p>TODO: Show loops of selected track.  Allow addition of loop or entire track to queue.</p>
                    <h5 ng-show="selectedTrack.title == 'None'">Select a track!</h5>
                    <h5 ng-show="selectedTrack.title != 'None'">Track: {{ '{{selectedTrack.title}}' }}</h5>
                    <audio id="preview" src="static/media/RickRoll.webm"></audio>
                    <button class="btn btn-default btn-lg img-reponsive" onclick="document.getElementById('preview').paused ? document.getElementById('preview').play() : document.getElementById('preview').pause();"></button>
                    <br/> <br/>
                    <button type="button" class="btn btn-default" ng-show="selectedTrack.title != 'None'" ng-click="push(selectedTrack)">Add to queue</button>

                </div>
            </div>
            <!-- /.row -->
        </div>
        <!-- /.container -->
    </section>

{% endblock %}